<div style="width: 100%" ng-controller="MainCtrl">
<div style="margin: 6px">
    <div class="navbar navbar-default">
        <div class="pull-left">
            <div class="btn-group">
                <button class="btn btn-default btn-sm" ng-click="refresh()"
                        title="Reloads the timeline from the database"
                        >Refresh</button>
                <button class="btn btn-default btn-sm" ng-controller="PlatformCtrl" ng-click="open()"
                        title="Platform options"
                        >Platform</button>
                <button class="btn btn-default btn-sm" ng-controller="PeriodCtrl" ng-click="open()"
                        title="Allows to visualize a pre-defined period or create a new period"
                        >Period</button>
                <button class="btn btn-default btn-sm" ng-click="save()"
                        title="Saves all new and modified tokens"
                        >Save</button>
                <button class="btn btn-default btn-sm" ng-show="showVersions" ng-click="showVersions()"
                        title="Revision history"
                        >Versions</button>
                <span class="lastUpdated" ng-show="lastUpdated" title="{{lastUpdated.onLocal}}">
                    Last updated {{lastUpdated.durHumanized}}
                    <span ng-show="lastUpdated.by">by {{lastUpdated.by}}</span>
                </span>
                <a target="_blank" class="btn btn-link btn-sm" ng-href="{{cfg.helpLink}}">Help</a>
            </div>
        </div>
        <div class="pull-right">
            <span class="version">@@appname @@version</span>
        </div>
    </div>
    <div class="parent-status">
        <alert ng-show="messages.any()"
               class="status alert alert-info" role="alert" type="'info'">
            <span ng-bind="messages.any()"></span>
        </alert>
        <alert ng-show="activities.any()"
               class="status alert alert-info" role="alert" type="'info'">
            <span class="fa fa-spinner fa-spin"></span>
            <span ng-bind="activities.any()"></span>
        </alert>
    </div>
    <div id="error" style="color: #CC0000" ng-show="errors.any()">
        <div ng-bind="errors.any()"></div>
    </div>

    <div ng-controller="TimelineCtrl" id="timelines"
         tabindex="0"
         focus-on="focusTimeline"
         ng-click="click()"
         ng-keypress="keyPressed($event)"
    ></div>

    <div ng-show="debug">
        <div>
            useSubgroups = {{cfg.opts.useSubgroups}}
        </div>

        <div id="logarea" style="color: blue; background-color: #f8fff7">
        </div>

        <button class="btn btn-default btn-xs"
                ng-click="debug.collapsed = !debug.collapsed">Model</button>
        <div collapse="debug.collapsed">
            <pre>{{debug.model | json}}</pre>
        </div>
    </div>

</div>
</div>
